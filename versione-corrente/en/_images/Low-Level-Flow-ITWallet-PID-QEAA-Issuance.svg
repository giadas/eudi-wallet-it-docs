<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1030px" preserveAspectRatio="none" style="width:1661px;height:1030px;background:#FFFFFF;" version="1.1" viewBox="0 0 1661 1030" width="1661px" zoomAndPan="magnify"><defs/><g><rect fill="#ADD8E6" height="1018.5781" style="stroke:#181818;stroke-width:0.5;" width="431.5" x="67" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="143" x="211.25" y="18.0669">User's smartphone</text><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="38" x2="38" y1="56.4297" y2="990.2813"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="107" x2="107" y1="56.4297" y2="990.2813"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="431.5" x2="431.5" y1="56.4297" y2="990.2813"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="891" x2="891" y1="56.4297" y2="990.2813"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1526" x2="1526" y1="56.4297" y2="990.2813"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="45" x="16" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="23" y="45.1279">User</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="45" x="16" y="989.2813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="23" y="1009.2764">User</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="72" x="71" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="78" y="45.1279">Browser</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="72" x="71" y="989.2813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="78" y="1009.2764">Browser</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125" x="369.5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="376.5" y="45.1279">Wallet Instance</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125" x="369.5" y="989.2813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="376.5" y="1009.2764">Wallet Instance</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="124" x="829" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="836" y="45.1279">Wallet Provider</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="124" x="829" y="989.2813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="836" y="1009.2764">Wallet Provider</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="1475" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="1482" y="45.1279">PID Provider</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="1475" y="989.2813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="1482" y="1009.2764">PID Provider</text><polygon fill="#181818" points="49.5,83.5625,39.5,87.5625,49.5,91.5625,45.5,87.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="43.5" x2="431" y1="87.5625" y2="87.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="55.5" y="82.4966">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="68.5" y="82.4966">obtain your PID</text><polygon fill="#181818" points="420,112.6953,430,116.6953,420,120.6953,424,116.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="38.5" x2="426" y1="116.6953" y2="116.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="45.5" y="111.6294">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="58.5" y="111.6294">yes</text><rect fill="#FFFFFF" height="23" style="stroke:#181818;stroke-width:0.5;" width="234" x="315" y="129.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226" x="319" y="145.7622">obtain a list of Trusted PID Provider</text><polygon fill="#181818" points="49.5,174.9609,39.5,178.9609,49.5,182.9609,45.5,178.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="43.5" x2="431" y1="178.9609" y2="178.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="55.5" y="173.895">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234" x="67.5" y="173.895">confirm the selection of PID Provider</text><polygon fill="#181818" points="420,204.0938,430,208.0938,420,212.0938,424,208.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="38.5" x2="426" y1="208.0938" y2="208.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="45.5" y="203.0278">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15" x="58.5" y="203.0278">ok</text><rect fill="#90EE90" height="23" style="stroke:#181818;stroke-width:0.5;" width="1202" x="377" y="221.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="599" x="678.75" y="237.1606">Wallet Instance checks that the PID Provider is part of the Federation and obtain its metadata</text><line style="stroke:#181818;stroke-width:1.0;" x1="432" x2="474" y1="270.3594" y2="270.3594"/><line style="stroke:#181818;stroke-width:1.0;" x1="474" x2="474" y1="270.3594" y2="283.3594"/><line style="stroke:#181818;stroke-width:1.0;" x1="433" x2="474" y1="283.3594" y2="283.3594"/><polygon fill="#181818" points="443,279.3594,433,283.3594,443,287.3594,439,283.3594" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="439" y="265.2935">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248" x="452" y="265.2935">create PKCE code verifier and WIA-PoP</text><polygon fill="#181818" points="1514,308.4922,1524,312.4922,1514,316.4922,1518,312.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="432" x2="1520" y1="312.4922" y2="312.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="439" y="307.4263">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="931" x="452" y="307.4263">PAR Request (response_type, client_id, code_challenge, code_challenge_method, request, client_assertion_type, client_assertion=WIA~WIA-PoP)</text><rect fill="#90EE90" height="38" style="stroke:#181818;stroke-width:0.5;" width="743" x="837" y="325.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="440" x="955" y="341.5591">PID Provider checks that the Wallet Provider is part of the Federation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="503" x="955" y="356.6919">PID Provider checks that the signature of the Wallet Attestation and its validity</text><polygon fill="#181818" points="443,385.8906,433,389.8906,443,393.8906,439,389.8906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="437" x2="1525" y1="389.8906" y2="389.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="449" y="384.8247">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252" x="462" y="384.8247">PAR Response (request_uri, expires_in)</text><polygon fill="#181818" points="118,415.0234,108,419.0234,118,423.0234,114,419.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="112" x2="431" y1="419.0234" y2="419.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="124" y="413.9575">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="288" x="137" y="413.9575">Authorization Request (client_id, request_uri)</text><polygon fill="#181818" points="1514,444.1563,1524,448.1563,1514,452.1563,1518,448.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="107" x2="1520" y1="448.1563" y2="448.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="114" y="443.0903">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="288" x="127" y="443.0903">Authorization Request (client_id, request_uri)</text><rect fill="#FFFFFF" height="23" style="stroke:#181818;stroke-width:0.5;" width="1556" x="5" y="461.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="312" x="627" y="477.2231">user authentication with eIDAS High and consent</text><polygon fill="#181818" points="118,506.4219,108,510.4219,118,514.4219,114,510.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="112" x2="1525" y1="510.4219" y2="510.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="124" y="505.356">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="263" x="147" y="505.356">Authorization Response (code, state, iss)</text><polygon fill="#181818" points="420,535.5547,430,539.5547,420,543.5547,424,539.5547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="107" x2="426" y1="539.5547" y2="539.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="114" y="534.4888">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="263" x="136" y="534.4888">Authorization Response (code, state, iss)</text><line style="stroke:#181818;stroke-width:1.0;" x1="432" x2="474" y1="568.6875" y2="568.6875"/><line style="stroke:#181818;stroke-width:1.0;" x1="474" x2="474" y1="568.6875" y2="581.6875"/><line style="stroke:#181818;stroke-width:1.0;" x1="433" x2="474" y1="581.6875" y2="581.6875"/><polygon fill="#181818" points="443,577.6875,433,581.6875,443,585.6875,439,581.6875" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="439" y="563.6216">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="461" y="563.6216">generate DPoP key</text><line style="stroke:#181818;stroke-width:1.0;" x1="432" x2="474" y1="610.8203" y2="610.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="474" x2="474" y1="610.8203" y2="623.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="433" x2="474" y1="623.8203" y2="623.8203"/><polygon fill="#181818" points="443,619.8203,433,623.8203,443,627.8203,439,623.8203" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="439" y="605.7544">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="424" x="460" y="605.7544">generate DPoP proof and WIA-PoP for PID Provider token endpoint</text><polygon fill="#181818" points="1514,664.0859,1524,668.0859,1514,672.0859,1518,668.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="432" x2="1520" y1="668.0859" y2="668.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="439" y="655.4536">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="1048" x="461" y="647.8872">Token Request with DPoP proof (client_id, grant_type, code, code_verifier, client_assertion_type=urn:ietf:params:oauth:client-assertion-type:jwt-client-attestation,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="284" x="465" y="663.02">client_assertion=WIA~WIA-PoP, redirect_uri)</text><polygon fill="#181818" points="443,693.2188,433,697.2188,443,701.2188,439,697.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="437" x2="1525" y1="697.2188" y2="697.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="449" y="692.1528">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="554" x="471" y="692.1528">Token Response (access_token, token_type, expires_in, c_nonce, c_nonce_expires_in)</text><line style="stroke:#181818;stroke-width:1.0;" x1="432" x2="474" y1="726.3516" y2="726.3516"/><line style="stroke:#181818;stroke-width:1.0;" x1="474" x2="474" y1="726.3516" y2="739.3516"/><line style="stroke:#181818;stroke-width:1.0;" x1="433" x2="474" y1="739.3516" y2="739.3516"/><polygon fill="#181818" points="443,735.3516,433,739.3516,443,743.3516,439,739.3516" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="439" y="721.2856">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238" x="461" y="721.2856">create proof of possession (c_nonce)</text><line style="stroke:#181818;stroke-width:1.0;" x1="432" x2="474" y1="768.4844" y2="768.4844"/><line style="stroke:#181818;stroke-width:1.0;" x1="474" x2="474" y1="768.4844" y2="781.4844"/><line style="stroke:#181818;stroke-width:1.0;" x1="433" x2="474" y1="781.4844" y2="781.4844"/><polygon fill="#181818" points="443,777.4844,433,781.4844,443,785.4844,439,781.4844" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="439" y="763.4185">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="348" x="461" y="763.4185">create DPoP proof for PID Provider credential endpoint</text><polygon fill="#181818" points="1514,806.6172,1524,810.6172,1514,814.6172,1518,810.6172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="432" x2="1520" y1="810.6172" y2="810.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="439" y="805.5513">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="623" x="461" y="805.5513">Credential Request with DPoP access_token and DPoP proof (credential_definition, format, proof)</text><rect fill="#ADD8E6" height="38" style="stroke:#181818;stroke-width:0.5;" width="259" x="1396" y="823.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="1400" y="839.6841">Register all the credential-related</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243" x="1400" y="854.8169">information for verification/revocation</text><polygon fill="#181818" points="443,884.0156,433,888.0156,443,892.0156,439,888.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="437" x2="1525" y1="888.0156" y2="888.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="449" y="882.9497">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="455" x="471" y="882.9497">Credential Response (format, credential, c_nonce, c_nonce_expires_in)</text><line style="stroke:#181818;stroke-width:1.0;" x1="432" x2="474" y1="917.1484" y2="917.1484"/><line style="stroke:#181818;stroke-width:1.0;" x1="474" x2="474" y1="917.1484" y2="930.1484"/><line style="stroke:#181818;stroke-width:1.0;" x1="433" x2="474" y1="930.1484" y2="930.1484"/><polygon fill="#181818" points="443,926.1484,433,930.1484,443,934.1484,439,930.1484" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="439" y="912.0825">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="462" y="912.0825">PID validity and status check</text><line style="stroke:#181818;stroke-width:1.0;" x1="432" x2="474" y1="959.2813" y2="959.2813"/><line style="stroke:#181818;stroke-width:1.0;" x1="474" x2="474" y1="959.2813" y2="972.2813"/><line style="stroke:#181818;stroke-width:1.0;" x1="433" x2="474" y1="972.2813" y2="972.2813"/><polygon fill="#181818" points="443,968.2813,433,972.2813,443,976.2813,439,972.2813" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="439" y="954.2153">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="461" y="954.2153">store credential</text><!--SRC=[bLLBJnin4BxxLupWK90IzHu9f00fH4LLH45SAgsStKaoPMDl_M193_tj7NiVyOQ2IXGfoNfUtsCSwPrMVhj48qGbZQESAgaS73rOD4SWBNWXblgbUV39WjroLBNH2e_W-9RM6tTHUXpcNXXTz-boUFOeon8Tp9LrKkKOOsg1gW3k8luPkp3wcOgstl8WPZ6_6WQGu5SDutFm4z1B9qd1Jdi372ayZFcWdi0EhH16QOUWdz503SUFD_FxcMWp99Ha7UWLt1jl7HQGDWhpncJkD3xdFhbMAp9RS1i4YoNcZhGAsOCiuRaxDzTFmzuZOYhdrpVtrtUpsJTnG17a6yoVBDUMBZP8Qm9P27o4Nk7i2_936RjBvhH5Gyx25fqif9Ffx86b6dXyWvAdMNozd36K0e77eXLn-L3aSJuTB_IYZIUENqplu0v_UMIAJWpQIYkBcTjLE8Ay95Gkes8KIsNv9i1HQppydV546yrXfgdKfqhBvWaGXXNxnsSyq9zsg5D8cQJHSi3aWAb36W_SzGwJxzUnj5RIUODTPbjuwXoZsciHH7YM9HNaTf2e8AWnPSzhGsSWDlAIUKCZm9UAcEcCr6dZxs1mEO6fPn8D_MxwzA8aAYHbJeMNCPC-d2Y6FFjkNxmDBk5Qd4LvKwmcjm6SNqs_mmtV415z7Z0fznetJ_Hwc8w2u9WH11RvWwpj0TGVIjexVOqgg8fmnUQ19zozULOPpNec_eULDiFTS_e95J2YIXD3InRaFfvqf4O-ag8foMl3rrXdz3Xut99k0TzOYZDlr8JGhIPiMRcr4nqac3Inupvs768dFsitxaxsdXpzKEzkLj2_OClbdG6euwa3r_4jynojpI8ReuQK5j3Uj8mZKvfli_vBDd3quLNK4CNlIlDmrWQ5JzhC67uGdx3xIYOEAO8xPPberKjrkJzzhLSABNfXe6AVcHMu8aMHrj1_A_asYr6dWxLfBwUBsuUPkCCr_yE4vIdBU6tiouqDbZByvmXIJRK0F-1gRD6isMU3pxhTkFG-wNKQ8El4wgRRT_jlQGAf_GKMo0XEyhQv49CuwxH9uVm5]--></g></svg>